function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1,7],{"0AqG":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("zE9r"),n=(a("H4X+"),a("tomM"),a("LZqa"),a("AJX/"),a("qnbw"),a("fXoL")),i=a("tk/3"),c=a("J9tS"),o=function(){var e=function(){function e(t,a){_classCallCheck(this,e),this.http=t,this.backend=a,this.basicAction="customers/"}return _createClass(e,[{key:"getCustomers",value:function(){return this.backend.getAll(this.basicAction).map(this.extractData).catch(this.handleError)}},{key:"getCustomer",value:function(e){return 0===e?r.a.of(this.initializeCustomer()):this.backend.getById("".concat(this.basicAction).concat(e)).map(this.extractData).catch(this.handleError)}},{key:"deleteCustomer",value:function(e){return this.backend.delete("".concat(this.basicAction).concat(e)).catch(this.handleError)}},{key:"saveCustomer",value:function(e){return 0===e.id?this.createCustomer(e):this.updateCustomer(e)}},{key:"createCustomer",value:function(e){return e.id=void 0,this.backend.create(this.basicAction,e).map(this.extractData).catch(this.handleError)}},{key:"updateCustomer",value:function(e){return this.backend.update("".concat(this.basicAction).concat(e.id),e).map((function(){return e})).catch(this.handleError)}},{key:"extractData",value:function(e){var t=e.json?e.json():e;return t.data?t.data:t||{}}},{key:"handleError",value:function(e){return console.error(e),r.a.throw(e.json()||"Server error")}},{key:"initializeCustomer",value:function(){return{id:0,avatar:null,firstname:null,lastname:null,rewards:0,email:null,membership:!1,mobile:null,phone:null}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.Yb(i.a),n.Yb(c.b))},e.\u0275prov=n.Kb({token:e,factory:e.\u0275fac}),e}()},L1xU:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var r=a("fXoL"),n=a("3Pt+"),i=(a("t/4F"),a("Xr5q"),a("6Br6"),a("zE9r")),c=a("WyWZ"),o=a("QEVK"),s=a("0MNC"),l=a("tyNb"),m=a("0AqG"),u=a("Wp6s"),b=a("/t3+"),f=a("bTqV"),d=a("NFeN"),h=a("zkoq"),g=a("ofXK"),p=a("kmnG"),C=a("qFsG"),v=a("1jcm");function y(e,t){if(1&e&&(r.Pb(0,"img",22),r.hc(1,"uppercase")),2&e){var a=r.gc();r.yc("width",a.imageWidth,"px")("height",a.imageWidth,"px")("margin",a.imageMargin,"px"),r.mc("src",a.customer.avatar,r.uc)("title",r.ic(1,8,a.customer.firstname))}}function T(e,t){if(1&e&&(r.Ub(0,"mat-error"),r.Ac(1),r.Tb()),2&e){var a=r.gc();r.Cb(1),r.Cc(" ",a.displayMessage.firstname," ")}}function k(e,t){if(1&e&&(r.Ub(0,"mat-error"),r.Ac(1),r.Tb()),2&e){var a=r.gc();r.Cb(1),r.Cc(" ",a.displayMessage.lastname," ")}}function U(e,t){if(1&e&&(r.Ub(0,"mat-error"),r.Ac(1),r.Tb()),2&e){var a=r.gc();r.Cb(1),r.Cc(" ",a.displayMessage.email," ")}}var A=function(){return["/customers"]},w=function(){var e=function(){function e(t,a,r,n,i){var c=this;_classCallCheck(this,e),this.fb=t,this.route=a,this.router=r,this.customerService=n,this.breakpointObserver=i,this.pageTitle="Update Customer",this.customer={},this.imageWidth=100,this.imageMargin=2,this.fieldColspan=3,this.displayMessage={},this.validationMessages={firstname:{required:"Customer first name is required.",minlength:"Customer first name must be at least one characters.",maxlength:"Customer first name cannot exceed 100 characters."},lastname:{required:"Customer last name is required.",minlength:"Customer last name must be at least one characters.",maxlength:"Customer last name cannot exceed 100 characters."},email:{required:"Customer email is required.",minlength:"Customer email must be at least one characters.",maxlength:"Customer email cannot exceed 200 characters."},rewards:{range:"Rewards of the customer must be between 0 (lowest) and 150 (highest)."},phone:{maxlength:"Customer phone cannot exceed 12 characters."},mobile:{maxlength:"Customer mobile cannot exceed 12 characters."}},i.observe([s.b.HandsetLandscape,s.b.HandsetPortrait]).subscribe((function(e){c.onScreensizeChange(e)})),this.genericValidator=new o.a(this.validationMessages)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.customerForm=this.fb.group({firstname:["",[n.r.required,n.r.minLength(3),n.r.maxLength(100)]],lastname:["",[n.r.required,n.r.minLength(3),n.r.maxLength(100)]],email:["",[n.r.required,n.r.minLength(5),n.r.maxLength(200)]],rewards:["",c.a.range(0,150)],phone:["",n.r.maxLength(12)],mobile:["",n.r.maxLength(12)],membership:!1}),this.sub=this.route.params.subscribe((function(t){e.getCustomer(+t.id)})),this.sub.add(null)}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e,t=this,a=this.formInputElements.map((function(e){return i.a.fromEvent(e.nativeElement,"blur")}));(e=i.a).merge.apply(e,[this.customerForm.valueChanges].concat(_toConsumableArray(a))).debounceTime(500).subscribe((function(e){t.displayMessage=t.genericValidator.processMessages(t.customerForm)}))}},{key:"getCustomer",value:function(e){var t=this;this.customerService.getCustomer(e).subscribe((function(e){return t.onCustomerRetrieved(e)}),(function(e){return t.errorMessage=e}))}},{key:"onCustomerRetrieved",value:function(e){this.customerForm&&this.customerForm.reset(),this.customer=e,this.pageTitle=0===this.customer.id?"New Customer":"Customer: ".concat(this.customer.firstname," ").concat(this.customer.lastname),this.customerForm.patchValue({firstname:this.customer.firstname,lastname:this.customer.lastname,email:this.customer.email,rewards:this.customer.rewards,phone:this.customer.phone,mobile:this.customer.mobile,membership:this.customer.membership})}},{key:"deleteCustomer",value:function(){var e=this;0===this.customer.id?this.onSaveComplete():confirm("Really delete the customer: ".concat(this.customer.firstname,"?"))&&this.customerService.deleteCustomer(this.customer.id).subscribe((function(){return e.onSaveComplete()}),(function(t){return e.errorMessage=t}))}},{key:"toggleImage",value:function(){event.preventDefault(),this.showImage=!this.showImage}},{key:"saveCustomer",value:function(){var e=this;if(this.customerForm.dirty&&this.customerForm.valid){var t=Object.assign({},this.customer,this.customerForm.value);this.customerService.saveCustomer(t).subscribe((function(){return e.onSaveComplete()}),(function(t){return e.errorMessage=t}))}else this.customerForm.dirty||this.onSaveComplete()}},{key:"onSaveComplete",value:function(){this.customerForm.reset(),this.router.navigate(["/customers"])}},{key:"onScreensizeChange",value:function(e){var t=this.breakpointObserver.isMatched("(max-width: 599px)"),a=this.breakpointObserver.isMatched("(max-width: 959px)");console.log(" isLess600  ".concat(t," \n            isLess1000 ").concat(a,"  ")),this.fieldColspan=a?t?12:6:3}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Ob(n.c),r.Ob(l.a),r.Ob(l.f),r.Ob(m.a),r.Ob(s.a))},e.\u0275cmp=r.Ib({type:e,selectors:[["customer-form"]],viewQuery:function(e,t){var a;1&e&&r.Fc(n.d,!0,r.l),2&e&&r.qc(a=r.dc())&&(t.formInputElements=a)},decls:55,vars:17,consts:[["novalidate","",3,"formGroup","ngSubmit"],[2,"background-color","#FFF"],[1,"view-card-title"],[1,"title-spacer"],["mat-mini-fab","","type","submit",1,"primary",2,"margin-right","10px","background-color","darkgray",3,"disabled"],["mat-mini-fab","",1,"",2,"margin-right","10px",3,"routerLink"],[2,"margin","5 0 5 10px"],["cols","12","rowHeight","120px"],[3,"colspan"],[1,"view-label"],["mat-card-avatar","","class","center-block img-responsive",3,"src","title","width","height","margin",4,"ngIf"],[1,"form-card"],["cols","12","rowHeight","80px"],["appearance","outline",1,"form-field"],["matInput","","id","firstNameId","type","text","placeholder","First Name (required)","formControlName","firstname"],[4,"ngIf"],["matInput","","id","lastNameId","type","text","placeholder","Last Name (required)","formControlName","lastname"],["matInput","","id","email","type","email","placeholder","Email ","formControlName","email"],["matInput","","id","phone","type","text","placeholder","Phone","formControlName","phone"],["matInput","","id","mobile","type","text","placeholder","Mobile ","formControlName","mobile"],["matInput","","placeholder","Rewards","id","ageId","type","number","formControlName","rewards"],["id","membership","formControlName","membership"],["mat-card-avatar","",1,"center-block","img-responsive",3,"src","title"]],template:function(e,t){1&e&&(r.Ub(0,"form",0),r.cc("ngSubmit",(function(){return t.saveCustomer()})),r.Ub(1,"mat-card"),r.Ub(2,"mat-toolbar",1),r.Ub(3,"mat-toolbar-row"),r.Ub(4,"span",2),r.Ac(5),r.Tb(),r.Pb(6,"span",3),r.Ub(7,"mat-card-actions"),r.Ub(8,"button",4),r.Ub(9,"mat-icon"),r.Ac(10,"save"),r.Tb(),r.Tb(),r.Ub(11,"button",5),r.Ub(12,"mat-icon"),r.Ac(13,"cancel"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(14,"mat-card-content",6),r.Ub(15,"mat-grid-list",7),r.Ub(16,"mat-grid-tile",8),r.Ub(17,"span",9),r.zc(18,y,2,10,"img",10),r.Tb(),r.Tb(),r.Tb(),r.Ub(19,"div",11),r.Ub(20,"mat-grid-list",12),r.Ub(21,"mat-grid-tile",8),r.Ub(22,"mat-form-field",13),r.Ub(23,"mat-label"),r.Ac(24,"First Name"),r.Tb(),r.Pb(25,"input",14),r.zc(26,T,2,1,"mat-error",15),r.Tb(),r.Tb(),r.Ub(27,"mat-grid-tile",8),r.Ub(28,"mat-form-field",13),r.Ub(29,"mat-label"),r.Ac(30,"Last Name"),r.Tb(),r.Pb(31,"input",16),r.zc(32,k,2,1,"mat-error",15),r.Tb(),r.Tb(),r.Ub(33,"mat-grid-tile",8),r.Ub(34,"mat-form-field",13),r.Ub(35,"mat-label"),r.Ac(36,"Email"),r.Tb(),r.Pb(37,"input",17),r.zc(38,U,2,1,"mat-error",15),r.Tb(),r.Tb(),r.Ub(39,"mat-grid-tile",8),r.Ub(40,"mat-form-field",13),r.Ub(41,"mat-label"),r.Ac(42,"Phone"),r.Tb(),r.Pb(43,"input",18),r.Tb(),r.Tb(),r.Ub(44,"mat-grid-tile",8),r.Ub(45,"mat-form-field",13),r.Ub(46,"mat-label"),r.Ac(47,"Mobile"),r.Tb(),r.Pb(48,"input",19),r.Tb(),r.Tb(),r.Ub(49,"mat-grid-tile",8),r.Ub(50,"mat-form-field",13),r.Pb(51,"input",20),r.Tb(),r.Tb(),r.Ub(52,"mat-grid-tile",8),r.Ub(53,"mat-slide-toggle",21),r.Ac(54,"Membership"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&e&&(r.mc("formGroup",t.customerForm),r.Cb(5),r.Cc(" ",t.pageTitle,""),r.Cb(3),r.mc("disabled",!t.customerForm.valid),r.Cb(3),r.mc("routerLink",r.nc(16,A)),r.Cb(5),r.mc("colspan",t.fieldColspan),r.Cb(2),r.mc("ngIf",t.customer.avatar),r.Cb(3),r.mc("colspan",t.fieldColspan),r.Cb(5),r.mc("ngIf",t.displayMessage.firstname),r.Cb(1),r.mc("colspan",t.fieldColspan),r.Cb(5),r.mc("ngIf",t.displayMessage.lastname),r.Cb(1),r.mc("colspan",t.fieldColspan),r.Cb(5),r.mc("ngIf",t.displayMessage.email),r.Cb(1),r.mc("colspan",t.fieldColspan),r.Cb(5),r.mc("colspan",t.fieldColspan),r.Cb(5),r.mc("colspan",t.fieldColspan),r.Cb(3),r.mc("colspan",t.fieldColspan))},directives:[n.s,n.l,n.f,u.a,b.a,b.c,u.b,f.b,d.a,l.g,u.d,h.a,h.c,g.n,p.c,p.f,C.b,n.b,n.k,n.d,n.o,v.a,u.c,p.b],pipes:[g.v],styles:[".title-spacer[_ngcontent-%COMP%] {\n        flex: 1 1 auto;\n      }\n    .form-field[_ngcontent-%COMP%]{\n        width: 100%;\n        margin-left: 20px;\n        margin-right: 20px;\n    }\n    .avatar-field[_ngcontent-%COMP%] {\n        left: 0;\n        margin: 0 auto;\n        position: absolute;\n        margin-left: 50px;\n    }"]}),e}()},M0ag:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a("WyWZ"),a("QEVK");var r,n=a("0IaG"),i=a("fXoL"),c=a("bTqV"),o=((r=function e(t,a){_classCallCheck(this,e),this.data=t,this.dialogRef=a,this.ACTION_YES="YES",this.ACTION_NO="NO",this.ACTION_CANCEL="CANCELED",this.ACTION_IGNORE="IGNORED",this.ACTION_OK="OK",this.ACTION_CLOSE="CLOSED",this.ACTION_CONFIRM="CONFIRMED"}).\u0275fac=function(e){return new(e||r)(i.Ob(n.a),i.Ob(n.g))},r.\u0275cmp=i.Ib({type:r,selectors:[["confirm-dialog"]],decls:10,vars:4,consts:[[1,"confirm-dialog"],[1,"confirm-dialog-title"],[1,"confirm-dialog-content"],[1,"confirm-dialog-action"],["mat-raised-button","",1,"accent",3,"mat-dialog-close"],["mat-raised-button","",1,"primary",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.Ub(0,"div",0),i.Ub(1,"h1",1),i.Ac(2),i.Tb(),i.Ub(3,"mat-dialog-content",2),i.Ac(4),i.Tb(),i.Ub(5,"mat-dialog-actions",3),i.Ub(6,"button",4),i.Ac(7,"Confirm"),i.Tb(),i.Ub(8,"button",5),i.Ac(9,"Cancel"),i.Tb(),i.Tb(),i.Tb()),2&e&&(i.Cb(2),i.Bc(t.data&&t.data.title?t.data.title:"Dialog"),i.Cb(2),i.Cc(" ",t.data&&t.data.message?t.data.message:"Are you sure to do this?"," "),i.Cb(2),i.mc("mat-dialog-close",t.ACTION_CONFIRM),i.Cb(2),i.mc("mat-dialog-close",t.ACTION_CANCEL))},directives:[n.e,n.c,c.b,n.d],styles:[".confirm-dialog[_ngcontent-%COMP%] {\n            min-width: 350px;\n            font-family: sans-serif;\n            }\n        .confirm-dialog-title[_ngcontent-%COMP%] {\n            margin-top:0px;\n        }\n        .confirm-dialog-content[_ngcontent-%COMP%] {\n            padding-top:10px; \n            padding-bottom:20px;\n        }\n        .confirm-dialog-action[_ngcontent-%COMP%] {\n            justify-content: center;\n        }"]}),r);a("5dmV")},QEVK:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("3Pt+"),n=function(){function e(t){_classCallCheck(this,e),this.validationMessages=t}return _createClass(e,[{key:"processMessages",value:function(e){var t=this,a={},n=function(n){if(e.controls.hasOwnProperty(n)){var i=e.controls[n];if(i instanceof r.e){var c=t.processMessages(i);Object.assign(a,c)}else t.validationMessages[n]&&(a[n]="",(i.dirty||i.touched)&&i.errors&&Object.keys(i.errors).map((function(e){t.validationMessages[n][e]&&(a[n]+=t.validationMessages[n][e]+" ")})))}};for(var i in e.controls)n(i);return a}}]),e}()},WyWZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"range",value:function(e,t){return function(a){return a.value&&(isNaN(a.value)||a.value<e||a.value>t)?{range:!0}:null}}}]),e}()},d7gL:function(e,t,a){"use strict";a.r(t),a.d(t,"CustomerModule",(function(){return h}));var r,n,i,c=a("tyNb"),o=a("dvAK"),s=a("fXoL"),l=((n=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"canActivate",value:function(e){var t=+e.url[1].path;return!(isNaN(t)||t<1)||(alert("Invalid customer Id"),this.router.navigate(["/customers"]),!1)}}]),e}()).\u0275fac=function(e){return new(e||n)(s.Yb(c.f))},n.\u0275prov=s.Kb({token:n,factory:n.\u0275fac}),n),m=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canDeactivate",value:function(e){if(e.customerForm.dirty){var t=e.customerForm.get("firstname").value||"New Customer";return confirm("Navigate away and lose all changes to ".concat(t,"?"))}return!0}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=s.Kb({token:r,factory:r.\u0275fac}),r),u=a("L1xU"),b=a("0AqG"),f=a("PCNd"),d=a("5dmV"),h=((i=function e(){_classCallCheck(this,e)}).\u0275mod=s.Mb({type:i}),i.\u0275inj=s.Lb({factory:function(e){return new(e||i)},providers:[b.a,l,m],imports:[[f.a,d.a,c.i.forChild([{path:"",component:o.a},{path:"new/",canDeactivate:[m],component:u.a},{path:"edit/:id",canDeactivate:[m],component:u.a}])]]}),i)},dvAK:function(e,t,a){"use strict";a.d(t,"a",(function(){return H}));var r=a("M0ag"),n=a("M9IT"),i=a("Dh3D"),c=a("+0xr"),o=a("fXoL"),s=a("0AqG"),l=a("0IaG"),m=a("dNgK"),u=a("Wp6s"),b=a("/t3+"),f=a("bTqV"),d=a("tyNb"),h=a("NFeN"),g=a("kmnG"),p=a("qFsG"),C=a("XhcP"),v=a("MutI"),y=a("3Pt+"),T=a("f0Cb"),k=a("ofXK");function U(e,t){1&e&&o.Pb(0,"mat-header-cell")}function A(e,t){if(1&e&&(o.Pb(0,"img",41),o.hc(1,"uppercase")),2&e){var a=o.gc().$implicit,r=o.gc();o.yc("width",r.imageWidth,"px")("margin",r.imageMargin,"px"),o.mc("src",a.avatar,o.uc)("title",o.ic(1,6,a.firstname))}}function w(e,t){if(1&e&&(o.Ub(0,"mat-cell"),o.zc(1,A,2,8,"img",40),o.Tb()),2&e){var a=t.$implicit;o.Cb(1),o.mc("ngIf",a.avatar)}}function M(e,t){1&e&&(o.Ub(0,"mat-header-cell",42),o.Ac(1," First Name "),o.Tb())}function I(e,t){if(1&e&&(o.Ub(0,"mat-cell"),o.Ac(1),o.Tb()),2&e){var a=t.$implicit;o.Cb(1),o.Cc(" ",a.firstname," ")}}function O(e,t){1&e&&(o.Ub(0,"mat-header-cell",42),o.Ac(1," Last Name "),o.Tb())}function x(e,t){if(1&e&&(o.Ub(0,"mat-cell"),o.Ac(1),o.Tb()),2&e){var a=t.$implicit;o.Cb(1),o.Cc(" ",a.lastname," ")}}function N(e,t){1&e&&(o.Ub(0,"mat-header-cell",42),o.Ac(1," Email "),o.Tb())}function S(e,t){if(1&e&&(o.Ub(0,"mat-cell"),o.Ac(1),o.Tb()),2&e){var a=t.$implicit;o.Cb(1),o.Cc(" ",a.email," ")}}function _(e,t){1&e&&(o.Ub(0,"mat-header-cell",42),o.Ac(1," Rewards "),o.Tb())}function F(e,t){if(1&e&&(o.Ub(0,"mat-cell"),o.Ac(1),o.hc(2,"number"),o.Tb()),2&e){var a=t.$implicit;o.Cb(1),o.Cc(" ",o.ic(2,1,a.rewards)," ")}}function L(e,t){1&e&&(o.Ub(0,"mat-header-cell",42),o.Ac(1,"Membershiop"),o.Tb())}function D(e,t){1&e&&(o.Ub(0,"span",45),o.Ub(1,"mat-icon"),o.Ac(2,"check_circle"),o.Tb(),o.Tb())}function P(e,t){1&e&&(o.Ub(0,"span",46),o.Ub(1,"mat-icon"),o.Ac(2,"highlight_off"),o.Tb(),o.Tb())}function z(e,t){if(1&e&&(o.Ub(0,"mat-cell"),o.zc(1,D,3,0,"span",43),o.zc(2,P,3,0,"span",44),o.Tb()),2&e){var a=t.$implicit;o.Cb(1),o.mc("ngIf",!a.membership),o.Cb(1),o.mc("ngIf",a.membership)}}function E(e,t){1&e&&o.Pb(0,"mat-header-cell",47)}var q=function(e){return["/customers/edit/",e]};function R(e,t){if(1&e){var a=o.Vb();o.Ub(0,"mat-cell",47),o.Ub(1,"button",48),o.Ub(2,"mat-icon"),o.Ac(3,"edit"),o.Tb(),o.Tb(),o.Ub(4,"button",49),o.cc("click",(function(){o.tc(a);var e=t.$implicit;return o.gc().openDialog(e.id)})),o.Ub(5,"mat-icon"),o.Ac(6,"delete"),o.Tb(),o.Tb(),o.Tb()}if(2&e){var r=t.$implicit;o.Cb(1),o.mc("routerLink",o.oc(1,q,r.id))}}function j(e,t){1&e&&o.Pb(0,"mat-header-row")}function W(e,t){1&e&&o.Pb(0,"mat-row")}var G=function(){return["/customers/edit/",0]},V=function(){return[5,10]},H=function(){var e=function(){function e(t,a,r){_classCallCheck(this,e),this.customerService=t,this.dialog=a,this.snackBar=r,this.pageTitle="Customers",this.imageWidth=30,this.imageMargin=2,this.showImage=!1,this.listFilter={},this.displayedColumns=["avatar","firstname","lastname","rewards","email","membership","id"],this.dataSource=null,this.pager={},this.searchFilter={firstname:"",lastname:"",email:""}}return _createClass(e,[{key:"applyFilter",value:function(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}},{key:"freshDataList",value:function(e){this.customers=e,this.dataSource=new c.k(this.customers),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"ngOnInit",value:function(){var e=this;this.customerService.getCustomers().subscribe((function(t){e.freshDataList(t)}),(function(t){return e.errorMessage=t})),this.searchFilter={},this.listFilter={}}},{key:"getCustomers",value:function(e){var t=this;this.customerService.getCustomers().subscribe((function(e){t.freshDataList(e)}),(function(e){return t.errorMessage=e}))}},{key:"searchCustomers",value:function(e){var t=this;e&&this.customerService.getCustomers().subscribe((function(a){t.customers=a,console.log(t.customers.length),t.customers=t.customers.filter((function(t){var a=!0;return Object.keys(e).forEach((function(r){a=a&&e[r]?t[r].toLocaleLowerCase().indexOf(e[r].toLocaleLowerCase())>-1:a})),a})),t.freshDataList(a)}),(function(e){return t.errorMessage=e}))}},{key:"resetListFilter",value:function(){this.listFilter={},this.getCustomers()}},{key:"reset",value:function(){this.listFilter={},this.searchFilter={},this.getCustomers()}},{key:"resetSearchFilter",value:function(e){e.toggle(),this.searchFilter={},this.getCustomers()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:1500})}},{key:"openDialog",value:function(e){var t=this,a=this.dialog.open(r.a,{data:{title:"Dialog",message:"Are you sure to delete this item?"}});a.disableClose=!0,a.afterClosed().subscribe((function(r){t.selectedOption=r,t.selectedOption===a.componentInstance.ACTION_CONFIRM&&t.customerService.deleteCustomer(e).subscribe((function(){t.customerService.getCustomers().subscribe((function(e){t.freshDataList(e)}),(function(e){return t.errorMessage=e})),t.openSnackBar("The item has been deleted successfully. ","Close")}),(function(e){t.errorMessage=e,console.log(t.errorMessage),t.openSnackBar("This item has not been deleted successfully. Please try again.","Close")}))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Ob(s.a),o.Ob(l.b),o.Ob(m.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["customer-list"]],viewQuery:function(e,t){var a;1&e&&(o.Fc(n.a,!0),o.Fc(i.a,!0)),2&e&&(o.qc(a=o.dc())&&(t.paginator=a.first),o.qc(a=o.dc())&&(t.sort=a.first))},features:[o.Bb([r.a])],decls:85,vars:12,consts:[[1,"light",2,"height","100%"],[1,"view-card-title"],[1,"primary"],["mat-mini-fab","",2,"margin-right","10px","background-color","#e07c9e",3,"routerLink"],["mat-mini-fab","",2,"margin-right","10px","background-color","#a28b6e",3,"click"],["mat-mini-fab","",2,"margin-right","10px","background-color","darkgray",3,"click"],[1,"title-spacer"],["appearance","standard",1,"search-form-fileld"],["matInput","",3,"keyup"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","avatar"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","firstname"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","lastname"],["matColumnDef","email"],["matColumnDef","rewards"],["matColumnDef","membership"],["matColumnDef","id"],["style","justify-content:right;",4,"matHeaderCellDef"],["style","justify-content:right;",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["position","end","dark","","mode","push","opened","false",1,"search-panel"],["sidenav",""],[1,"profile-card"],["mat-card-avatar","",1,"avatar"],[2,"margin-left","50px"],["appearance","standard"],["matInput","","appearance","standard","placeholder","First Name","name","firstname",3,"ngModel","ngModelChange"],["matInput","","placeholder","Last Name","name","reference",3,"ngModel","ngModelChange"],["reference",""],["matInput","","appearance","standard","placeholder","Mobile","name","amount",3,"ngModel","ngModelChange"],["amount",""],["mat-raised-button","",2,"color","lightgrey","background-color","darkgreen","margin","5px",3,"click"],["mat-raised-button","",2,"color","lightgrey","background-color","darkred","margin","5px",3,"click"],[3,"src","title","width","margin",4,"ngIf"],[3,"src","title"],["mat-sort-header",""],["style","color:green",4,"ngIf"],["style","color:darkgrey",4,"ngIf"],[2,"color","green"],[2,"color","darkgrey"],[2,"justify-content","right"],["mat-mini-fab","",2,"background-color","teal","min-height","30px","margin","5px",3,"routerLink"],["mat-mini-fab","",2,"background-color","lightblue","min-height","30px","margin","5px",3,"click"]],template:function(e,t){if(1&e){var a=o.Vb();o.Ub(0,"mat-card",0),o.Ub(1,"mat-card-header"),o.Ub(2,"mat-card-title",1),o.Ub(3,"h1"),o.Ac(4),o.Tb(),o.Tb(),o.Tb(),o.Ub(5,"mat-toolbar",2),o.Ub(6,"mat-toolbar-row"),o.Ub(7,"button",3),o.Ub(8,"mat-icon"),o.Ac(9,"add"),o.Tb(),o.Tb(),o.Ub(10,"button",4),o.cc("click",(function(){return o.tc(a),o.rc(51).toggle()})),o.Ub(11,"mat-icon"),o.Ac(12,"search"),o.Tb(),o.Tb(),o.Ub(13,"button",5),o.cc("click",(function(){return t.reset()})),o.Ub(14,"mat-icon"),o.Ac(15,"refresh"),o.Tb(),o.Tb(),o.Pb(16,"span",6),o.Ub(17,"mat-form-field",7),o.Ub(18,"mat-label"),o.Ac(19,"Filter"),o.Tb(),o.Ub(20,"input",8),o.cc("keyup",(function(e){return t.applyFilter(e.target.value)})),o.Tb(),o.Ub(21,"mat-icon"),o.Ac(22,"filter_list"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(23,"mat-table",9,10),o.Sb(25,11),o.zc(26,U,1,0,"mat-header-cell",12),o.zc(27,w,2,1,"mat-cell",13),o.Rb(),o.Sb(28,14),o.zc(29,M,2,0,"mat-header-cell",15),o.zc(30,I,2,1,"mat-cell",13),o.Rb(),o.Sb(31,16),o.zc(32,O,2,0,"mat-header-cell",15),o.zc(33,x,2,1,"mat-cell",13),o.Rb(),o.Sb(34,17),o.zc(35,N,2,0,"mat-header-cell",15),o.zc(36,S,2,1,"mat-cell",13),o.Rb(),o.Sb(37,18),o.zc(38,_,2,0,"mat-header-cell",15),o.zc(39,F,3,3,"mat-cell",13),o.Rb(),o.Sb(40,19),o.zc(41,L,2,0,"mat-header-cell",15),o.zc(42,z,3,2,"mat-cell",13),o.Rb(),o.Sb(43,20),o.zc(44,E,1,0,"mat-header-cell",21),o.zc(45,R,7,3,"mat-cell",22),o.Rb(),o.zc(46,j,1,0,"mat-header-row",23),o.zc(47,W,1,0,"mat-row",24),o.Tb(),o.Pb(48,"mat-paginator",25,26),o.Tb(),o.Ub(50,"mat-sidenav",27,28),o.Ub(52,"mat-card",29),o.Ub(53,"mat-card-header"),o.Ub(54,"div",30),o.Ub(55,"mat-icon"),o.Ac(56,"search"),o.Tb(),o.Tb(),o.Ub(57,"mat-card-title"),o.Ac(58," Advanced Search "),o.Tb(),o.Tb(),o.Tb(),o.Ub(59,"mat-nav-list",31),o.Ub(60,"mat-form-field",32),o.Ub(61,"mat-label"),o.Ac(62,"First Name"),o.Tb(),o.Ub(63,"input",33),o.cc("ngModelChange",(function(e){return t.searchFilter.firstname=e})),o.Tb(),o.Tb(),o.Ub(64,"mat-form-field",32),o.Ub(65,"mat-label"),o.Ac(66,"Last Name"),o.Tb(),o.Ub(67,"input",34,35),o.cc("ngModelChange",(function(e){return t.searchFilter.customerDate=e})),o.Tb(),o.Tb(),o.Ub(69,"mat-form-field",32),o.Ub(70,"mat-label"),o.Ac(71,"Mobile"),o.Tb(),o.Ub(72,"input",36,37),o.cc("ngModelChange",(function(e){return t.searchFilter.customerName=e})),o.Tb(),o.Tb(),o.Tb(),o.Pb(74,"mat-divider"),o.Ub(75,"mat-card-header"),o.Ub(76,"mat-action-list"),o.Ub(77,"button",38),o.cc("click",(function(){o.tc(a);var e=o.rc(51);return t.searchCustomers(t.searchFilter),e.toggle()})),o.Ub(78,"mat-icon"),o.Ac(79,"search"),o.Tb(),o.Ac(80,"Search "),o.Tb(),o.Ub(81,"button",39),o.cc("click",(function(){o.tc(a);var e=o.rc(51);return t.resetSearchFilter(e)})),o.Ub(82,"mat-icon"),o.Ac(83,"refresh"),o.Tb(),o.Ac(84,"Reset "),o.Tb(),o.Tb(),o.Tb(),o.Tb()}2&e&&(o.Cb(4),o.Bc(t.pageTitle),o.Cb(3),o.mc("routerLink",o.nc(10,G)),o.Cb(16),o.mc("dataSource",t.dataSource),o.Cb(23),o.mc("matHeaderRowDef",t.displayedColumns),o.Cb(1),o.mc("matRowDefColumns",t.displayedColumns),o.Cb(1),o.mc("pageSize",10)("pageSizeOptions",o.nc(11,V)),o.Cb(15),o.mc("ngModel",t.searchFilter.firstname),o.Cb(4),o.mc("ngModel",t.searchFilter.customerDate),o.Cb(5),o.mc("ngModel",t.searchFilter.customerName))},directives:[u.a,u.e,u.h,b.a,b.c,f.b,d.g,h.a,g.c,g.f,p.b,c.j,i.a,c.c,c.e,c.b,c.g,c.i,n.a,C.a,u.c,v.f,y.b,y.k,y.n,T.a,v.a,c.d,c.a,k.n,i.b,c.f,c.h],pipes:[k.v,k.g],styles:["thead[_ngcontent-%COMP%]{color:#337ab7}.title-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.search-form-fileld[_ngcontent-%COMP%]{margin-right:20px}"]}),e}()},zE9r:function(e,t,a){"use strict";var r=a("HDdC");a.d(t,"a",(function(){return r.a}))}}]);